<div>
    <div class="btn-group btn-group-justified">

        <div class="btn-group">
            <button type="button" class="btn btn-success ad-button disabled ng-class:{'ad-dummy-button': !ctrl.loading()};" uib-dropdown-toggle>
                <div>Allekirjoituspyyntö</div>
            </button>
        </div>
        <div class="btn-group" uib-dropdown is-open="agencyIsOpen">
            <button id="agencyButton" type="button" class="btn btn-success ad-button ng-class:{'disabled': ctrl.loading()};" uib-dropdown-toggle>
                <div ng-if="!ctrl.aF">Pyynnön tyyppi</div>
                <div ng-if="ctrl.aF">{{ctrl.aF}}</div>
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu role="menu" aria-labelledby="agencyButton">
                <li role="menuitem" ng-repeat="i in ctrl.docTypes track by $index"><a ng-click="ctrl.setFilterDocType(i.type)">{{i.txt}}</a></li>
                <li class="divider"></li>
                <li role="menuitem"><a ng-click="ctrl.setFilterDocType(null)">Poista valinta</a></li>
            </ul>
        </div>
        <div class="btn-group" uib-dropdown is-open="reqStatusIsOpen">
            <button id="reqStatusButton" type="button" class="btn btn-success ad-button ng-class:{'disabled': ctrl.loading()};" uib-dropdown-toggle>
                <div ng-if="!ctrl.aF">Status</div>
                <div ng-if="ctrl.aF">{{ctrl.aF}}</div>
                <span class="caret"></span>
            </button>
            <ul uib-dropdown-menu role="menu" aria-labelledby="reqStatusButton">
                <li role="menuitem" ng-repeat="i in ctrl.docStatuses track by $index"><a ng-click="ctrl.setFilterDocStatus(i)">{{i.txt}}</a></li>
                <li class="divider"></li>
                <li role="menuitem"><a ng-click="ctrl.setAgencyFilter(null)">Poista valinta</a></li>
            </ul>
        </div>
	</div>

    <uib-progressbar ng-if="ctrl.loading()" class="progress-striped active" type="info"><i>Haetaan...</i></uib-progressbar>

    <ul ng-if="!ctrl.reqErr" class="list-group">
        <button type="button" class="list-group-item col-xs-12" ng-repeat="i in ctrl.data track by $index">
            <div class="row" ng-click="ctrl.itemSelected(i)">
                <div class="col-xs-4">{{i.RequestDate | date:'yyyy-MM-dd'}} {{i.Name}}</div>
                <div class="col-xs-4">{{ctrl.signReqDocTypeTxt(i.DocumentType)}}</div>
                <div class="col-xs-4"><span class="ng-class: ['label', ctrl.badgeClass(i.Status)]">{{ctrl.signDocStatusTxt(i.Status)}}</span></div>
            </div>
        </button>
    </ul>
    <div ng-if="ctrl.error" class="alert alert-danger" role="alert">Haku ei onnistunut. Ole hyvä ja yritä myöhemmin uudestaan.<br>({{ctrl.error.status}} {{ctrl.error.statusText}})</div>
</div>
